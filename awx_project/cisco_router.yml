---
- name: Ping Test Playbook
  hosts: "{{ router_ip }}"
  gather_facts: no
  tasks:

    # Get facts from Cisco IOS devices
    - name: Get facts from Cisco IOS devices
      cisco.ios.ios_facts:
      register: cisco_facts

    # Display gathered facts
    - name: Display gathered facts
      ansible.builtin.debug:
        var: cisco_facts

    # Display all gathered facts
    - name: Display all gathered facts
      ansible.builtin.debug:
        var: ansible_facts
        
    # Run show version on remote devices
    - name: Run show version on remote devices
      cisco.ios.ios_command:
        commands: show version
      register: version_output

    # Display show version output
    - name: Display show version output
      ansible.builtin.debug:
        var: version_output
